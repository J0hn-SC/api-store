# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type CategoryEntity {
  id: ID!
  name: String!
}

type ProductImageEntity {
  id: ID!
  url: String!
  productId: String!
}

type ProductEntity {
  id: ID!
  name: String!
  description: String
  price: Float!
  stock: Int!
  status: EntityStatus!
  categoryId: ID!
  category: CategoryEntity
  images: [ProductImageEntity!]
  likesCount: Int
  isLiked: Boolean
}

"""Posible states for entities"""
enum EntityStatus {
  ACTIVE
  DISABLED
  PENDING
  SUSPENDED
}

type ProductLikeEntity {
  userId: String!
  productId: String!
  createdAt: String!
}

type PromoCodeEntity {
  id: ID!
  code: String!
  discountType: DiscountType!
  discountValue: Float!
  expirationDate: DateTime
  usageLimit: Int
  usedCount: Int!
  minimumPurchaseAmount: Float
  status: PromoCodeStatus
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""Posible states for entities"""
enum DiscountType {
  PERCENTAGE
  FIXED
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""Posible states for Promo Code Status"""
enum PromoCodeStatus {
  ACTIVE
  DISABLED
}

type PublicPromoCodeEntity {
  id: ID!
  code: String!
  discountType: DiscountType!
  discountValue: Float!
  expirationDate: DateTime
  minimumPurchaseAmount: Float
}

type CartItemEntity {
  id: ID!
  productId: String!
  quantity: Int!
}

type CartEntity {
  id: ID!
  userId: String!
  promoCodeId: String!
  items: [CartItemEntity!]
  itemsCount: Int!
  promoCode: PublicPromoCodeEntity
  subtotal: Float!
  discount: Float!
  total: Float!
}

type OrderItemEntity {
  id: String!
  orderId: String!
  productId: String!
  quantity: Float!
  nameAtPurchase: String!
  priceAtPurchase: Float!
  tax: Float!
}

type OrderEntity {
  orderNumber: ID!
  userId: String!
  status: OrderStatus!
  tax: Float!
  subtotal: Float!
  discount: Float!
  total: Float!
  currency: String!
  promoCodeSnapshot: String
  paymentMethodType: String
  items: [OrderItemEntity!]!
}

"""Posible states for Order Status"""
enum OrderStatus {
  PENDING
  PAID
  PROCESSING
  SHIPPED
  DELIVERED
  CANCELLED
}

type Query {
  products(filters: ProductFiltersInput, pagination: PaginationInput!): [ProductEntity!]!
  product(id: ID!): ProductEntity!
  isProductLiked(productId: ID!): ProductLikeEntity!
  promoCodes: [PromoCodeEntity!]!
  promoCode(id: ID!): PromoCodeEntity!
  myCart: CartEntity!
  myOrders(filter: OrderFilterInput): [OrderEntity!]!
  orders(filter: OrderFilterInput): [OrderEntity!]!
}

input ProductFiltersInput {
  categoryId: String
  minPrice: Float
  maxPrice: Float
  search: String
}

input PaginationInput {
  limit: Int! = 10
  offset: Int! = 0
}

input OrderFilterInput {
  status: String
  fromDate: DateTime
  toDate: DateTime
  minTotal: Float
  maxTotal: Float
}

type Mutation {
  createProduct(input: CreateProductInput!): ProductEntity!
  updateProduct(input: UpdateProductInput!): ProductEntity!
  disableProduct(id: ID!): ProductEntity!
  deleteProduct(id: ID!): ProductEntity!
  uploadProductImage(id: ID!, file: Upload!): ProductImageEntity!
  likeProduct(productId: ID!): ProductLikeEntity!
  unlikeProduct(productId: ID!): ProductLikeEntity!
  toggleLikeProduct(productId: ID!): ProductLikeEntity!
  createPromoCode(input: CreatePromoCodeInput!): PromoCodeEntity!
  updatePromoCode(input: UpdatePromoCodeInput!): PromoCodeEntity!
  disablePromoCode(id: ID!): PromoCodeEntity!
  addToCart(input: AddToCartInput!): CartEntity!
  updateCartItem(input: UpdateCartItemInput!): CartEntity!
  removeCartItem(itemId: String!): CartEntity!
  clearCart: CartEntity!
  validatePromoCode(code: String!): CartEntity!
  createOrder(input: CreateOrderInput!): OrderEntity!
  processOrder(id: ID!): OrderEntity!
  shipOrder(id: ID!): OrderEntity!
  cancelOrder(id: ID!): OrderEntity!
  deliverOrder(id: ID!): OrderEntity!
}

input CreateProductInput {
  name: String!
  description: String
  price: Float!
  stock: Int!
  status: EntityStatus = ACTIVE
  categoryId: String!
}

input UpdateProductInput {
  name: String
  description: String
  price: Float
  stock: Int
  status: EntityStatus = ACTIVE
  categoryId: String
  id: ID!
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

input CreatePromoCodeInput {
  code: String!
  discountType: DiscountType!
  discountValue: Float!
  expirationDate: DateTime
  usageLimit: Int
  minimumPurchaseAmount: Float
  status: PromoCodeStatus = ACTIVE
}

input UpdatePromoCodeInput {
  id: ID!
  expirationDate: DateTime
  usageLimit: Int
  status: PromoCodeStatus = ACTIVE
}

input AddToCartInput {
  productId: String!
  quantity: Int!
}

input UpdateCartItemInput {
  itemId: String!
  quantity: Int!
}

input CreateOrderInput {
  code: String
  addressId: String
  newAddress: CreateAddressInput
}

input CreateAddressInput {
  name: String
  address: String!
  country: String!
  city: String!
  phoneNumber: String
}